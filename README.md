# ğŸ“° Newsletter Agent - æ™ºèƒ½æ–°é—»ç®€æŠ¥ç”Ÿæˆç³»ç»Ÿ

<div align="center">

![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![LangChain](https://img.shields.io/badge/LangChain-Latest-green.svg)
![Gradio](https://img.shields.io/badge/Gradio-UI-orange.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

*åŸºäºAIæŠ€æœ¯çš„è‡ªåŠ¨åŒ–æ–°é—»ç®€æŠ¥ç”Ÿæˆç³»ç»Ÿ*

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—) â€¢ [ä»£ç ç»“æ„](#-ä»£ç ç»“æ„) â€¢ [APIæ–‡æ¡£](#-api-æ–‡æ¡£)

</div>

---

## ğŸŒŸ é¡¹ç›®æ¦‚è¿°

Newsletter Agent æ˜¯ä¸€ä¸ªåŸºäºäººå·¥æ™ºèƒ½çš„æ™ºèƒ½æ–°é—»ç®€æŠ¥ç”Ÿæˆç³»ç»Ÿï¼Œèƒ½å¤Ÿè‡ªåŠ¨ä»å¤šä¸ªæ•°æ®æºæ”¶é›†ä¿¡æ¯ï¼Œä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹è¿›è¡Œå†…å®¹åˆ†æå’Œç”Ÿæˆï¼Œæœ€ç»ˆäº§å‡ºä¸ªæ€§åŒ–çš„æ–°é—»ç®€æŠ¥ã€‚

### ğŸ’¡ æ ¸å¿ƒäº®ç‚¹

- ğŸ¤– **æ™ºèƒ½AIä»£ç†** - åŸºäºLangChainæ„å»ºçš„å¤šæ­¥éª¤æ¨ç†ä»£ç†
- ğŸ” **å¤šæºæ•°æ®é›†æˆ** - æ•´åˆNewsAPIã€Redditã€RSSç­‰å¤šä¸ªä¿¡æ¯æº  
- âœï¸ **ä¸ªæ€§åŒ–ç”Ÿæˆ** - æ”¯æŒå¤šç§å†™ä½œé£æ ¼å’Œç›®æ ‡å—ä¼—å®šåˆ¶
- ğŸ¨ **ç°ä»£åŒ–ç•Œé¢** - åŸºäºGradioçš„ç›´è§‚Webç•Œé¢
- ğŸ“± **å¤šæ ¼å¼è¾“å‡º** - æ”¯æŒHTMLå’ŒMarkdownæ ¼å¼å¯¼å‡º
- ğŸ”§ **æ¨¡å—åŒ–è®¾è®¡** - é«˜åº¦å¯æ‰©å±•çš„æ¶æ„è®¾è®¡

### ğŸ¯ é€‚ç”¨åœºæ™¯

- ğŸ“Š **ä¼ä¸šèµ„è®¯ç›‘æ§** - è‡ªåŠ¨ç”Ÿæˆè¡Œä¸šåŠ¨æ€ç®€æŠ¥
- ğŸ“ **å­¦æœ¯ç ”ç©¶è¾…åŠ©** - å¿«é€Ÿäº†è§£é¢†åŸŸæœ€æ–°å‘å±•
- ğŸ“ˆ **æŠ•èµ„å†³ç­–æ”¯æŒ** - è·å–å¸‚åœºè¶‹åŠ¿å’Œå•†ä¸šæ´å¯Ÿ
- ğŸ“± **ä¸ªäººä¿¡æ¯è®¢é˜…** - å®šåˆ¶åŒ–çš„æ–°é—»æ‘˜è¦æœåŠ¡

---

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### ğŸ§  AIæ™ºèƒ½ä»£ç†
- **å¤šæ­¥éª¤æ¨ç†** - è‡ªåŠ¨è§„åˆ’ç ”ç©¶å’Œç”Ÿæˆæµç¨‹
- **å·¥å…·é›†æˆ** - å†…ç½®8+ä¸“ä¸šå·¥å…·ï¼ˆæ–°é—»æœç´¢ã€å†…å®¹åˆ†æã€æ‘˜è¦ç”Ÿæˆç­‰ï¼‰
- **å¯¹è¯äº¤äº’** - æ”¯æŒè‡ªç„¶è¯­è¨€äº¤äº’å’ŒæŒ‡ä»¤æ‰§è¡Œ
- **ä¸Šä¸‹æ–‡è®°å¿†** - ç»´æŠ¤å®Œæ•´çš„å¯¹è¯å†å²å’Œä¸Šä¸‹æ–‡

### ğŸ“¡ æ•°æ®æºé›†æˆ
- **NewsAPI** - æ¥è‡ª80,000+æ–°é—»æºçš„å®æ—¶æ–°é—»
- **Reddit API** - ç¤¾åŒºè®¨è®ºå’Œçƒ­é—¨è¯é¢˜
- **RSSè§£æ** - æ”¯æŒå„ç§RSSæºçš„å†…å®¹è·å–
- **å†…å®¹å»é‡** - æ™ºèƒ½å»é™¤é‡å¤å’Œç›¸ä¼¼å†…å®¹

### ğŸ“ å†…å®¹å¤„ç†
- **æ™ºèƒ½åˆ†ç±»** - è‡ªåŠ¨è¯†åˆ«æ–°é—»ç±»åˆ«ï¼ˆç§‘æŠ€ã€å•†ä¸šã€å¥åº·ç­‰ï¼‰
- **å…³é”®è¯æå–** - åŸºäºTF-IDFå’ŒNLPæŠ€æœ¯
- **è´¨é‡è¯„ä¼°** - è‡ªåŠ¨è¯„ä¼°å†…å®¹è´¨é‡å’Œç›¸å…³æ€§
- **æ ¼å¼åŒ–** - ç»Ÿä¸€çš„å†…å®¹ç»“æ„å’Œæ ¼å¼

### ğŸ¨ ç”¨æˆ·ç•Œé¢
- **ç›´è§‚æ“ä½œ** - ç®€æ´æ˜“ç”¨çš„Webç•Œé¢
- **å®æ—¶é¢„è§ˆ** - HTMLå’ŒMarkdownåŒæ ¼å¼é¢„è§ˆ
- **å‚æ•°å®šåˆ¶** - ä¸°å¯Œçš„ä¸ªæ€§åŒ–é€‰é¡¹
- **çŠ¶æ€ç›‘æ§** - å®æ—¶æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€å’Œå¤„ç†è¿›åº¦

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### ğŸ”§ æ ¸å¿ƒæ¡†æ¶
- **Python 3.8+** - ä¸»è¦ç¼–ç¨‹è¯­è¨€
- **LangChain** - AIä»£ç†æ¡†æ¶å’Œå·¥å…·é›†æˆ
- **Gradio** - Webç•Œé¢æ¡†æ¶
- **Pydantic** - æ•°æ®éªŒè¯å’Œè®¾ç½®ç®¡ç†

### ğŸ¤– AI & NLP
- **OpenAI API** - å¤§è¯­è¨€æ¨¡å‹æœåŠ¡
- **LangChain OpenAI** - OpenAIé›†æˆ
- **jieba** - ä¸­æ–‡åˆ†è¯å’Œå…³é”®è¯æå–
- **scikit-learn** - æœºå™¨å­¦ä¹ ç®—æ³•

### ğŸ“Š æ•°æ®å¤„ç†
- **requests** - HTTPè¯·æ±‚åº“
- **feedparser** - RSSè§£æ
- **BeautifulSoup4** - HTMLè§£æ
- **PRAW** - Reddit APIå®¢æˆ·ç«¯

### ğŸ“ å†…å®¹ç”Ÿæˆ
- **Jinja2** - æ¨¡æ¿å¼•æ“
- **Markdown** - æ ‡è®°è¯­è¨€æ”¯æŒ
- **python-dotenv** - ç¯å¢ƒå˜é‡ç®¡ç†

---

## âš¡ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- ç¨³å®šçš„ç½‘ç»œè¿æ¥
- NewsAPIå¯†é’¥ï¼ˆå…è´¹ï¼‰
- OpenAI APIå¯†é’¥

### ğŸ”§ å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**
```bash
git clone https://github.com/your-username/newsletter-agent.git
cd newsletter-agent
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
```bash
python -m venv .venv
# Windows
.venv\Scripts\activate
# macOS/Linux  
source .venv/bin/activate
```

3. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

4. **å¿«é€Ÿé…ç½®**
```bash
python quick_start.py
```

æˆ–æ‰‹åŠ¨åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
# å¿…éœ€é…ç½®
NEWSAPI_KEY=your_newsapi_key_here
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_API_BASE=https://api.openai.com/v1

# å¯é€‰é…ç½®
REDDIT_CLIENT_ID=your_reddit_client_id
REDDIT_CLIENT_SECRET=your_reddit_client_secret
```

5. **å¯åŠ¨åº”ç”¨**
```bash
python main.py
```

6. **è®¿é—®ç•Œé¢**
   
   æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:7860

### ğŸ”‘ è·å–APIå¯†é’¥

#### NewsAPI (å¿…éœ€)
1. è®¿é—® [NewsAPI.org](https://newsapi.org/)
2. æ³¨å†Œå…è´¹è´¦æˆ·
3. è·å–APIå¯†é’¥ï¼ˆæ¯æ—¥1000æ¬¡å…è´¹è¯·æ±‚ï¼‰

#### OpenAI API (å¿…éœ€)
1. è®¿é—® [OpenAI Platform](https://platform.openai.com/)
2. åˆ›å»ºè´¦æˆ·å¹¶è·å–APIå¯†é’¥
3. ç¡®ä¿è´¦æˆ·æœ‰è¶³å¤Ÿä½™é¢

#### Reddit API (å¯é€‰)
1. è®¿é—® [Reddit App Preferences](https://www.reddit.com/prefs/apps)
2. åˆ›å»ºæ–°åº”ç”¨ç¨‹åº
3. è·å–Client IDå’ŒClient Secret

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ğŸ¯ åŸºæœ¬ä½¿ç”¨æµç¨‹

1. **é€‰æ‹©ä¸»é¢˜** - åœ¨ç®€æŠ¥ä¸»é¢˜è¾“å…¥æ¡†ä¸­è¾“å…¥æ„Ÿå…´è¶£çš„è¯é¢˜
   ```
   ç¤ºä¾‹ï¼šäººå·¥æ™ºèƒ½æœ€æ–°å‘å±•ã€æ–°èƒ½æºæ±½è½¦å¸‚åœºåŠ¨æ€ã€åŒºå—é“¾æŠ€æœ¯åº”ç”¨
   ```

2. **è®¾ç½®åå¥½**
   - **å†™ä½œé£æ ¼**ï¼šä¸“ä¸š(professional)ã€ä¼‘é—²(casual)ã€å­¦æœ¯(academic)ã€åˆ›æ„(creative)
   - **å†…å®¹é•¿åº¦**ï¼šçŸ­(short)ã€ä¸­(medium)ã€é•¿(long)
   - **ç›®æ ‡å—ä¼—**ï¼šé€šç”¨(general)ã€æŠ€æœ¯(tech)ã€å•†ä¸š(business)ã€å­¦æœ¯(academic)

3. **é€‰æ‹©åˆ†ç±»** - å‹¾é€‰å…³æ³¨çš„å†…å®¹åˆ†ç±»
   ```
   ç§‘æŠ€ã€å•†ä¸šã€å¥åº·ã€å¨±ä¹ã€ä½“è‚²ã€æ”¿æ²»ã€æ•™è‚²
   ```

4. **ç”Ÿæˆç®€æŠ¥** - ç‚¹å‡»"ç”Ÿæˆç®€æŠ¥"æŒ‰é’®å¼€å§‹åˆ›å»º

5. **æŸ¥çœ‹ç»“æœ** - åœ¨HTMLé¢„è§ˆæˆ–Markdownæ ‡ç­¾é¡µä¸­æŸ¥çœ‹ç”Ÿæˆçš„ç®€æŠ¥

### ğŸ”§ é«˜çº§åŠŸèƒ½

#### ğŸ¤– å‘½ä»¤è¡Œäº¤äº’
```python
from newsletter_agent.src.agents import create_newsletter_agent

# åˆ›å»ºä»£ç†
agent = create_newsletter_agent()

# ç”Ÿæˆç®€æŠ¥
result = agent.generate_newsletter(
    topic="äººå·¥æ™ºèƒ½",
    style="professional", 
    audience="tech",
    length="medium"
)

print(result['message'])
```

#### ğŸ“Š æ‰¹é‡å¤„ç†
```python
from newsletter_agent.src.tools.data_source_tools import get_all_tools

# è·å–æ•°æ®æºå·¥å…·
tools = get_all_tools()

# æ‰¹é‡æœç´¢æ–°é—»
news_tool = tools[0]  # NewsSearchTool
result = news_tool._run("æœºå™¨å­¦ä¹ ")
```

#### ğŸ¨ è‡ªå®šä¹‰æ¨¡æ¿
```python
from newsletter_agent.src.templates.newsletter_templates import NewsletterTemplateEngine

# åˆ›å»ºæ¨¡æ¿å¼•æ“
engine = NewsletterTemplateEngine()

# ç”Ÿæˆè‡ªå®šä¹‰æ ¼å¼ç®€æŠ¥
newsletter = engine.generate_newsletter(
    data=newsletter_data,
    template_style="creative",
    output_format="html"
)
```

### ğŸ’¡ æœ€ä½³å®è·µ

#### ğŸ“ ä¸»é¢˜é€‰æ‹©å»ºè®®
- âœ… **å…·ä½“æ˜ç¡®**ï¼š`äººå·¥æ™ºèƒ½åœ¨åŒ»ç–—é¢†åŸŸçš„åº”ç”¨` 
- âŒ **è¿‡äºå®½æ³›**ï¼š`æŠ€æœ¯`
- âœ… **æ—¶æ•ˆæ€§å¼º**ï¼š`2024å¹´æ–°èƒ½æºæ±½è½¦æ”¿ç­–å˜åŒ–`
- âŒ **è¿‡äºé™ˆæ—§**ï¼š`äº’è”ç½‘å‘å±•å²`

#### ğŸ¯ é£æ ¼é€‰æ‹©æŒ‡å—
- **ä¸“ä¸šé£æ ¼**ï¼šé€‚åˆä¼ä¸šå†…éƒ¨æŠ¥å‘Šã€è¡Œä¸šåˆ†æ
- **ä¼‘é—²é£æ ¼**ï¼šé€‚åˆä¸ªäººé˜…è¯»ã€ç¤¾äº¤åˆ†äº«  
- **å­¦æœ¯é£æ ¼**ï¼šé€‚åˆç ”ç©¶æŠ¥å‘Šã€è®ºæ–‡å‚è€ƒ
- **åˆ›æ„é£æ ¼**ï¼šé€‚åˆè¥é”€å†…å®¹ã€åˆ›æ„å†™ä½œ

#### ğŸ“Š åˆ†ç±»ç­›é€‰æŠ€å·§
- é€‰æ‹©2-3ä¸ªç›¸å…³åˆ†ç±»æ•ˆæœæœ€ä½³
- è¿‡å¤šåˆ†ç±»å¯èƒ½å¯¼è‡´å†…å®¹åˆ†æ•£
- æ ¹æ®ç›®æ ‡å—ä¼—é€‰æ‹©åˆé€‚åˆ†ç±»

---

## ğŸ“ ä»£ç ç»“æ„

```
newsletter-agent/
â”œâ”€â”€ ğŸ“„ main.py                    # ğŸš€ ä¸»å…¥å£æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ quick_start.py             # âš¡ å¿«é€Ÿå¯åŠ¨è„šæœ¬  
â”œâ”€â”€ ğŸ“„ test_fixes.py              # ğŸ§ª æµ‹è¯•éªŒè¯è„šæœ¬
â”œâ”€â”€ ğŸ“„ requirements.txt           # ğŸ“¦ ä¾èµ–é…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ .env                       # ğŸ”‘ ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ ğŸ“„ .gitignore                 # ğŸš« Gitå¿½ç•¥æ–‡ä»¶
â””â”€â”€ ğŸ“ newsletter_agent/          # ğŸ“¦ ä¸»è¦ä»£ç ç›®å½•
    â”œâ”€â”€ ğŸ“ config/                # âš™ï¸ é…ç½®æ¨¡å—
    â”‚   â””â”€â”€ ğŸ“„ settings.py        # ğŸ”§ åº”ç”¨è®¾ç½®
    â”œâ”€â”€ ğŸ“ src/                   # ğŸ’» æºä»£ç ç›®å½•
    â”‚   â”œâ”€â”€ ğŸ“ agents/            # ğŸ¤– AIä»£ç†æ¨¡å—
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ newsletter_agent.py    # æ ¸å¿ƒä»£ç†ç±»
    â”‚   â”‚   â””â”€â”€ ğŸ“„ prompts.py             # æç¤ºæ¨¡æ¿
    â”‚   â”œâ”€â”€ ğŸ“ tools/             # ğŸ”§ å·¥å…·é›†åˆ
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ai_generation_tools.py    # AIç”Ÿæˆå·¥å…·
    â”‚   â”‚   â””â”€â”€ ğŸ“„ data_source_tools.py      # æ•°æ®æºå·¥å…·
    â”‚   â”œâ”€â”€ ğŸ“ data_sources/      # ğŸ“¡ æ•°æ®æºæ¨¡å—
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ aggregator.py          # æ•°æ®èšåˆå™¨
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ news_api.py            # NewsAPIå®¢æˆ·ç«¯
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ reddit_api.py          # Reddit APIå®¢æˆ·ç«¯
    â”‚   â”‚   â””â”€â”€ ğŸ“„ rss_parser.py          # RSSè§£æå™¨
    â”‚   â”œâ”€â”€ ğŸ“ content/           # ğŸ“ å†…å®¹å¤„ç†æ¨¡å—
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ text_processor.py      # æ–‡æœ¬å¤„ç†å™¨
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ content_formatter.py   # å†…å®¹æ ¼å¼åŒ–å™¨
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ deduplicator.py        # å»é‡å™¨
    â”‚   â”‚   â””â”€â”€ ğŸ“„ classifier.py          # åˆ†ç±»å™¨
    â”‚   â”œâ”€â”€ ğŸ“ templates/         # ğŸ¨ æ¨¡æ¿ç³»ç»Ÿ
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ newsletter_templates.py   # ç®€æŠ¥æ¨¡æ¿
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ email_templates.py        # é‚®ä»¶æ¨¡æ¿
    â”‚   â”‚   â””â”€â”€ ğŸ“„ formatting_utils.py       # æ ¼å¼åŒ–å·¥å…·
    â”‚   â”œâ”€â”€ ğŸ“ ui/                # ğŸ¨ ç”¨æˆ·ç•Œé¢
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
    â”‚   â”‚   â””â”€â”€ ğŸ“„ app.py                # Gradioåº”ç”¨
    â”‚   â”œâ”€â”€ ğŸ“ user/              # ğŸ‘¥ ç”¨æˆ·ç®¡ç†
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ preferences.py        # ç”¨æˆ·åå¥½
    â”‚   â”‚   â”œâ”€â”€ ğŸ“„ subscription.py       # è®¢é˜…ç®¡ç†
    â”‚   â”‚   â””â”€â”€ ğŸ“„ storage.py            # æ•°æ®å­˜å‚¨
    â”‚   â””â”€â”€ ğŸ“ email/             # ğŸ“§ é‚®ä»¶ç³»ç»Ÿ (å·²ç§»é™¤)
    â”‚       â”œâ”€â”€ ğŸ“„ __init__.py
    â”‚       â”œâ”€â”€ ğŸ“„ sendgrid_client.py    # SendGridå®¢æˆ·ç«¯
    â”‚       â”œâ”€â”€ ğŸ“„ email_scheduler.py    # é‚®ä»¶è°ƒåº¦å™¨
    â”‚       â””â”€â”€ ğŸ“„ email_validator.py    # é‚®ä»¶éªŒè¯å™¨
    â””â”€â”€ ğŸ“ tests/                 # ğŸ§ª æµ‹è¯•æ¨¡å—
        â”œâ”€â”€ ğŸ“„ __init__.py
        â””â”€â”€ ğŸ“„ test_config.py
```

### ğŸ—ï¸ æ¶æ„è¯´æ˜

#### ğŸ¤– Agent Layer (ä»£ç†å±‚)
```
NewsletterAgent
â”œâ”€â”€ LLM Integration (è¯­è¨€æ¨¡å‹é›†æˆ)
â”œâ”€â”€ Tool Management (å·¥å…·ç®¡ç†)
â”œâ”€â”€ Conversation History (å¯¹è¯å†å²)
â””â”€â”€ Decision Making (å†³ç­–é€»è¾‘)
```

#### ğŸ”§ Tools Layer (å·¥å…·å±‚)
```
AI Generation Tools          Data Source Tools
â”œâ”€â”€ NewsletterGenerationTool â”œâ”€â”€ NewsSearchTool
â”œâ”€â”€ ContentSummaryTool       â”œâ”€â”€ TrendingTopicsTool  
â”œâ”€â”€ HeadlineGenerationTool   â”œâ”€â”€ ContentAnalysisTool
â””â”€â”€ ContentEnhancementTool   â””â”€â”€ TopicResearchTool
```

#### ğŸ“Š Data Layer (æ•°æ®å±‚)
```
Data Sources                 Content Processing
â”œâ”€â”€ NewsAPI Client          â”œâ”€â”€ Text Processor
â”œâ”€â”€ Reddit API Client       â”œâ”€â”€ Content Formatter
â”œâ”€â”€ RSS Parser              â”œâ”€â”€ Deduplicator
â””â”€â”€ Data Aggregator         â””â”€â”€ Classifier
```

#### ğŸ¨ Presentation Layer (å±•ç¤ºå±‚)
```
User Interface              Templates
â”œâ”€â”€ Gradio Web App          â”œâ”€â”€ Newsletter Templates
â”œâ”€â”€ Status Dashboard        â”œâ”€â”€ Email Templates
â”œâ”€â”€ Configuration Panel     â””â”€â”€ Formatting Utils
â””â”€â”€ Real-time Preview
```

---

## ğŸ”§ é…ç½®è¯´æ˜

### ğŸ“‹ ç¯å¢ƒå˜é‡

| å˜é‡å | å¿…éœ€ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|------|--------|
| `NEWSAPI_KEY` | âœ… | NewsAPIå¯†é’¥ | - |
| `OPENAI_API_KEY` | âœ… | OpenAI APIå¯†é’¥ | - |
| `OPENAI_API_BASE` | âŒ | OpenAI APIåŸºç¡€URL | `https://api.openai.com/v1` |
| `REDDIT_CLIENT_ID` | âŒ | Redditå®¢æˆ·ç«¯ID | - |
| `REDDIT_CLIENT_SECRET` | âŒ | Redditå®¢æˆ·ç«¯å¯†é’¥ | - |
| `REDDIT_USER_AGENT` | âŒ | Redditç”¨æˆ·ä»£ç† | `newsletter_agent/1.0.0` |
| `DEBUG` | âŒ | è°ƒè¯•æ¨¡å¼ | `false` |
| `CONTENT_LANGUAGE` | âŒ | å†…å®¹è¯­è¨€ | `zh` |
| `MAX_ARTICLES_PER_SOURCE` | âŒ | æ¯ä¸ªæºçš„æœ€å¤§æ–‡ç« æ•° | `10` |

### âš™ï¸ åº”ç”¨é…ç½®

```python
# newsletter_agent/config/settings.py
class Settings:
    APP_NAME: str = "Newsletter Agent"
    APP_VERSION: str = "1.0.0"
    DEBUG: bool = False
    
    # APIé…ç½®
    NEWSAPI_KEY: str = ""
    OPENAI_API_KEY: str = ""
    OPENAI_API_BASE: str = "https://api.openai.com/v1"
    
    # å†…å®¹é…ç½®
    MAX_ARTICLES_PER_SOURCE: int = 10
    CONTENT_LANGUAGE: str = "zh"
    DEFAULT_TOPICS: list = ["ç§‘æŠ€", "å•†ä¸š", "å¥åº·"]
```

---

## ğŸ” APIæ–‡æ¡£

### ğŸ¤– æ ¸å¿ƒä»£ç†API

#### åˆ›å»ºä»£ç†
```python
from newsletter_agent.src.agents import create_newsletter_agent

agent = create_newsletter_agent(
    api_key="your_openai_key",           # å¯é€‰
    api_base="https://api.openai.com/v1" # å¯é€‰
)
```

#### ç”Ÿæˆç®€æŠ¥
```python
result = agent.generate_newsletter(
    topic="äººå·¥æ™ºèƒ½æœ€æ–°å‘å±•",        # ç®€æŠ¥ä¸»é¢˜
    style="professional",           # å†™ä½œé£æ ¼
    audience="tech",               # ç›®æ ‡å—ä¼—  
    length="medium"                # å†…å®¹é•¿åº¦
)

print(result['message'])  # ç”Ÿæˆçš„ç®€æŠ¥å†…å®¹
```

#### ä¸»é¢˜ç ”ç©¶
```python
research = agent.research_topic(
    topic="é‡å­è®¡ç®—",              # ç ”ç©¶ä¸»é¢˜
    depth="deep"                  # ç ”ç©¶æ·±åº¦: light/medium/deep
)
```

#### å†…å®¹åˆ†æ
```python
analysis = agent.analyze_content(
    content="è¦åˆ†æçš„æ–‡æœ¬å†…å®¹..."   # å¾…åˆ†æå†…å®¹
)
```

### ğŸ”§ å·¥å…·API

#### æ•°æ®æºå·¥å…·
```python
from newsletter_agent.src.tools.data_source_tools import get_all_tools

tools = get_all_tools()

# æ–°é—»æœç´¢
news_tool = tools[0]  # NewsSearchTool
result = news_tool._run("æœºå™¨å­¦ä¹ ")

# çƒ­é—¨è¯é¢˜
trending_tool = tools[1]  # TrendingTopicsTool  
topics = trending_tool._run("tech")
```

#### AIç”Ÿæˆå·¥å…·
```python
from newsletter_agent.src.tools.ai_generation_tools import get_ai_tools

ai_tools = get_ai_tools()

# å†…å®¹æ‘˜è¦
summary_tool = ai_tools[1]  # ContentSummaryTool
summary = summary_tool._run("é•¿æ–‡æœ¬å†…å®¹...")

# æ ‡é¢˜ç”Ÿæˆ
headline_tool = ai_tools[2]  # HeadlineGenerationTool
headlines = headline_tool._run("æ–‡ç« å†…å®¹...")
```

### ğŸ“Š æ•°æ®æºAPI

#### æ–°é—»æ•°æ®
```python
from newsletter_agent.src.data_sources.news_api import news_client

# æœç´¢æ–°é—»
articles = news_client.search_everything(
    query="äººå·¥æ™ºèƒ½",
    language="en",
    page_size=10
)

# è·å–å¤´æ¡
headlines = news_client.get_top_headlines(
    category="technology",
    country="us"
)
```

#### Redditæ•°æ®
```python
from newsletter_agent.src.data_sources.reddit_api import reddit_client

# è·å–çƒ­é—¨å¸–å­
posts = reddit_client.get_hot_posts(
    subreddit_name="technology",
    limit=10
)

# æœç´¢å¸–å­
search_results = reddit_client.search_posts(
    query="machine learning",
    subreddit_name="MachineLearning"
)
```

---

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### âŒ APIå¯†é’¥é”™è¯¯
```
Error: 401 Unauthorized
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„APIå¯†é’¥æ˜¯å¦æ­£ç¡®
- ç¡®è®¤OpenAIè´¦æˆ·ä½™é¢å……è¶³
- éªŒè¯NewsAPIå¯†é’¥æœ‰æ•ˆæ€§

#### âŒ æ¨¡å—å¯¼å…¥å¤±è´¥
```
ImportError: No module named 'langchain'
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
pip install -r requirements.txt
```

#### âŒ 404é”™è¯¯
```
Error code: 404 - {'error': {'message': 'Not Found'}}
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥ `OPENAI_API_BASE` é…ç½®
- ç¡®è®¤æ¨¡å‹åç§°æ­£ç¡®
- éªŒè¯ç½‘ç»œè¿æ¥

#### âŒ ç«¯å£å ç”¨
```
OSError: [Errno 48] Address already in use
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æŸ¥æ‰¾å ç”¨è¿›ç¨‹
lsof -i :7860
# æˆ–æ›´æ”¹ç«¯å£
python main.py --port 7861
```

### ğŸ”§ è°ƒè¯•æ¨¡å¼

å¯ç”¨è°ƒè¯•æ¨¡å¼è·å–æ›´å¤šä¿¡æ¯ï¼š
```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export DEBUG=true
# æˆ–åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®
DEBUG=true

# è¿è¡Œåº”ç”¨
python main.py
```

### ğŸ“ æ—¥å¿—æŸ¥çœ‹

æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼š
```bash
# æ—¥å¿—æ–‡ä»¶ä½ç½®
tail -f logs/newsletter_agent.log

# æˆ–å®æ—¶æŸ¥çœ‹
python main.py 2>&1 | tee debug.log
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼

### ğŸ“‹ è´¡çŒ®æ–¹å¼

- ğŸ› **æŠ¥å‘ŠBug** - é€šè¿‡IssuesæŠ¥å‘Šé—®é¢˜
- ğŸ’¡ **æå‡ºå»ºè®®** - åˆ†äº«æ‚¨çš„æƒ³æ³•å’Œå»ºè®®  
- ğŸ“ **æ”¹è¿›æ–‡æ¡£** - å¸®åŠ©å®Œå–„æ–‡æ¡£
- ğŸ’» **æäº¤ä»£ç ** - ä¿®å¤bugæˆ–æ·»åŠ æ–°åŠŸèƒ½
- ğŸŒ **ç¿»è¯‘** - å¸®åŠ©ç¿»è¯‘ç•Œé¢å’Œæ–‡æ¡£

### ğŸ”„ å¼€å‘æµç¨‹

1. **Forkä»“åº“**
```bash
git clone https://github.com/your-username/newsletter-agent.git
cd newsletter-agent
```

2. **åˆ›å»ºåˆ†æ”¯**
```bash
git checkout -b feature/your-feature-name
```

3. **å¼€å‘ç¯å¢ƒè®¾ç½®**
```bash
python -m venv .venv
source .venv/bin/activate  # Linux/macOS
pip install -r requirements.txt
pip install -r requirements-dev.txt  # å¦‚æœå­˜åœ¨
```

4. **æäº¤æ›´æ”¹**
```bash
git add .
git commit -m "feat: add your feature description"
git push origin feature/your-feature-name
```

5. **åˆ›å»ºPull Request**

### ğŸ“ ä»£ç è§„èŒƒ

- éµå¾ªPEP 8ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²
- ç¼–å†™å•å…ƒæµ‹è¯•
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

### ğŸ§ª æµ‹è¯•

è¿è¡Œæµ‹è¯•ç¡®ä¿ä»£ç è´¨é‡ï¼š
```bash
# è¿è¡Œä¿®å¤éªŒè¯æµ‹è¯•
python test_fixes.py

# è¿è¡Œå•å…ƒæµ‹è¯•ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
python -m pytest tests/
```

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ™ è‡´è°¢

- [LangChain](https://github.com/langchain-ai/langchain) - å¼ºå¤§çš„AIåº”ç”¨å¼€å‘æ¡†æ¶
- [Gradio](https://github.com/gradio-app/gradio) - æ˜“ç”¨çš„MLç•Œé¢æ„å»ºå·¥å…·  
- [OpenAI](https://openai.com/) - æä¾›å¼ºå¤§çš„è¯­è¨€æ¨¡å‹æœåŠ¡
- [NewsAPI](https://newsapi.org/) - å…¨çƒæ–°é—»æ•°æ®æœåŠ¡
- [Reddit](https://www.reddit.com/dev/api/) - ç¤¾åŒºæ•°æ®å¹³å°

---

## ğŸ“ è”ç³»æˆ‘ä»¬

- ğŸ“§ **é‚®ç®±**: [your-email@example.com](mailto:your-email@example.com)
- ğŸ› **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/your-username/newsletter-agent/issues)
- ğŸ’¬ **è®¨è®ºäº¤æµ**: [GitHub Discussions](https://github.com/your-username/newsletter-agent/discussions)

---

## ğŸ”® æœªæ¥è§„åˆ’

- [ ] ğŸ“± ç§»åŠ¨ç«¯é€‚é…
- [ ] ğŸŒ å¤šè¯­è¨€æ”¯æŒ
- [ ] ğŸ“Š é«˜çº§åˆ†æä»ªè¡¨æ¿
- [ ] ğŸ”„ å®šæ—¶ä»»åŠ¡è°ƒåº¦
- [ ] ğŸ“§ é‚®ä»¶è®¢é˜…æ¢å¤
- [ ] ğŸ¨ æ›´å¤šæ¨¡æ¿ä¸»é¢˜
- [ ] ğŸ¤– æ›´å¤šAIæ¨¡å‹æ”¯æŒ
- [ ] ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

---

<div align="center">

**ğŸ‰ å¼€å§‹ä½¿ç”¨Newsletter Agentï¼Œä½“éªŒAIé©±åŠ¨çš„æ™ºèƒ½æ–°é—»ç®€æŠ¥ç”Ÿæˆï¼**

â­ å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªStarï¼ â­

</div> 